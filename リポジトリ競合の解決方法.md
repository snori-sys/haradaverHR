# リポジトリ競合の解決方法

## ⚠️ 問題

既存の「haradaverHR」リポジトリに既にコードがあるため、プッシュが拒否されました。

## 🔧 解決方法

以下のいずれかの方法で解決できます：

### 方法1: Vercelで直接インポート（推奨・簡単）

既存のリポジトリをそのままVercelでインポートして、後でコードを更新することもできます。

**手順**:
1. **Vercelダッシュボードで「haradaverHR」の「Import」ボタンをクリック**
2. **プロジェクト設定を確認**
3. **環境変数を設定**
4. **「Deploy」ボタンをクリック**
5. **デプロイ完了後、GitHubでコードを更新**

**メリット**:
- すぐにデプロイできる
- 既存のコードを保持できる

**デメリット**:
- デプロイ時は既存のコードが使用される
- 後でコードを更新する必要がある

### 方法2: 既存のコードをマージ

既存のコードと新しいコードをマージします。

```bash
cd /Users/sawashimanoriyuki/point-card-pwa

# 既存のコードを取得
git pull origin main --allow-unrelated-histories

# コンフリクトがあれば解決

# 再度プッシュ
git push -u origin main
```

### 方法3: 既存のコードを上書き（注意）

既存のコードを上書きして、新しいコードをプッシュします。

⚠️ **警告**: 既存のコードが削除されます。

```bash
cd /Users/sawashimanoriyuki/point-card-pwa

# 既存のコードを上書き
git push -u origin main --force
```

## 🚀 推奨手順

**方法1（Vercelで直接インポート）** を推奨します：

### ステップ1: Vercelでインポート

1. **Vercelダッシュボードで「haradaverHR」の「Import」ボタンをクリック**

2. **プロジェクト設定を確認**:
   - **Project Name**: `point-card-pwa`（任意）
   - **Framework Preset**: `Next.js`（自動検出されるはず）
   - **Root Directory**: `./`

3. **環境変数を設定**（重要）:

   **「Environment Variables」セクションを開く**

   以下の5つの環境変数を追加:

   | 名前 | 値 | 環境 |
   |------|-----|------|
   | `NEXT_PUBLIC_SUPABASE_URL` | `https://hgcmbmcjzdfugbnljkel.supabase.co` | Production, Preview, Development |
   | `NEXT_PUBLIC_SUPABASE_ANON_KEY` | `eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhnY21ibWNqemRmdWdibmxqa2VsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM2NzY3NTksImV4cCI6MjA3OTI1Mjc1OX0.E_XkUK1Ue6OS6PFEfjmhYqD4p2HSPUXt7j2fx5Bts5c` | Production, Preview, Development |
   | `SUPABASE_SERVICE_ROLE_KEY` | `eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhnY21ibWNqemRmdWdibmxqa2VsIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2MzY3Njc1OSwiZXhwIjoyMDc5MjUyNzU5fQ.4wjAxywhvQSSbLZXKbOT4EBlyjghChEyZ3s5QEvpPXQ` | Production, Preview, Development |
   | `JWT_SECRET` | `apRIKYbcsO2ya4V8ZVEMHKJ1Zx4HHUDWwZ/Xt7hLopo=` | Production, Preview, Development |
   | `JWT_EXPIRES_IN` | `24h` | Production, Preview, Development |

   **重要**: 各環境変数で、Production, Preview, Development すべてを選択してください。

4. **「Deploy」ボタンをクリック**

5. **ビルドが完了するまで待つ**（数分かかります）

### ステップ2: 後でコードを更新（オプション）

デプロイ完了後、GitHubでコードを更新できます：

1. **GitHubでリポジトリを確認**
2. **既存のコードと新しいコードをマージ**
3. **Vercelが自動的に再デプロイ**

## ✅ 完了

Vercelでインポートしてデプロイしたら、本番環境へのリリースが完了です！

